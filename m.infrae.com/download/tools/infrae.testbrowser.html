<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Infrae Mobile: infrae.testbrowser</title>
    <base href="" />
    <meta name="description" content="Infrae mobile site: Download areas for all of Infrae's open source products." />
    <meta name="keywords" content="mobile, smartphone, Android, iOS, download, open source, software, products, infrae" />
    <meta name="generator" content="Silva" />
    <meta name="viewport" content="width=device-width,user-scalable=yes" />
    <link rel="shortcut icon" href="../../++static++/silvatheme.infraemobile/:version:2013-12-19T15:20:12/favicon.ico" />

    <link rel="apple-touch-icon" href="../../++static++/silvatheme.infraemobile/:version:2013-12-19T15:20:12/mobicon.png" />
    <style>#contactus {display: none} div.searchbox {display: none}</style>

    
  <link rel="stylesheet" type="text/css" href="../../++static++/silvatheme.infraemobile/:version:2013-12-19T15:20:12/:bundle:infraemobile.css%3Binfraemobile_advanced.css" />
<script type="text/javascript" src="../../++static++/jquery/:version:1.8.2/jquery.min.js"></script>
</head>

  <body class="infrae-testbrowser">
    <div id="site" class="">
  <div id="header"><div class="breadcrumbs"><div class="menu bc">
  <div id="home" class="bci bchome">
    <a href="../../index.html">
      <img width="72" height="36" alt="Home" src="../../++static++/silvatheme.infraemobile/:version:2013-12-19T15:20:12/images/homelink.png"
           />
    </a>
  </div>
  <div id="sitemap-switch-button" class="buttons" >
  <a id="sitemap-switch-button-link" href="infrae.testbrowser.html#top"
    width="36" height="36" alt="Sitemap"
    title="show sitemap"
    onclick="
      window.location.hash = 'top';
      var cur = $(this);
      $('#sitemap').slideToggle('fast',
      function(){cur.toggleClass('selected')});
      return false;">
    <img height="36" width="36" alt="Sitemap button" src="../../++static++/silvatheme.infraemobile/:version:2013-12-19T15:20:12/images/sitemap.png"
    />
  </a>
</div>

  <div class="title bci">
    <a href="../tools.html">Tools</a>
  </div>
</div>
</div>
</div>
  <div id="behindheader">
    <a name="top" href="mailto:torvald@infrae.com">
      Looking under the hood? Interested in a job? Send a mail....
    </a>
  </div>
  <div id="sitemap" style="display: none"><div class="navigation">
  <ul id="navigation-menu" class="navigation-level-0">
    
      <li class="level-0">
        <a href="../../news.html" title="News">News</a>
        
      </li>
    
    
      <li class="level-0">
        <a href="../../about.html" title="About">About</a>
        
      </li>
    
    
      <li class="level-0">
        <a href="../../products.html" title="Products">Products</a>
        
      </li>
    
    
      <li class="level-0 selected">
        <a href="../../download.html" title="Download" class="onbranch">Download</a>
        
          
            <ul class="navigation-level-1">
    
      <li class="level-1 selected">
        <a href="../tools.html" title="Tools" class="onbranch">Tools</a>
        
          
            <ul class="navigation-level-2">
    
      <li class="level-2">
        <a href="infrae.wsgi.html" title="infrae.wsgi">infrae.wsgi</a>
        
      </li>
    
    
      <li class="level-2 selected">
        <a href="infrae.testbrowser.html" title="infrae.testbrowser" class="selected">infrae.testbrowser</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="infrae.fileupload.html" title="infrae.fileupload">infrae.fileupload</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="infrae.layout.html" title="infrae.layout">infrae.layout</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="infrae.rest.html" title="infrae.rest">infrae.rest</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="infrae.testing.html" title="infrae.testing">infrae.testing</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="infrae.i18nextract.html" title="infrae.i18nextract">infrae.i18nextract</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="infrae.maildrophost.html" title="infrae.maildrophost">infrae.maildrophost</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="infrae.uwsgi.html" title="infrae.uwsgi">infrae.uwsgi</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="infrae.copyright.html" title="infrae.copyright">infrae.copyright</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="infrae.cache.html" title="infrae.cache">infrae.cache</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="infrae.comethods.html" title="infrae.comethods">infrae.comethods</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="z3locales.html" title="z3locales">z3locales</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="sparrow.html" title="Sparrow">Sparrow</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="../Sprout.html" title="Sprout">Sprout</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="../../infrae.com/infrae.com/download/ptprofiler.html" title="PTProfiler">PTProfiler</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="../zsparklines.html" title="ZSparklines">ZSparklines</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="i18nextract-sa.html" title="i18nextract stand-alone">i18nextract stand-alone</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="../pydavclient.html" title="PyDAV Client">PyDAV Client</a>
        
      </li>
    
  </ul>
          
        
      </li>
    
    
      <li class="level-1">
        <a href="../mobi.html" title="Mobi">Mobi</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../OAI.html" title="OAI Components">OAI Components</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../DocumentLibrary.html" title="OAI Document Library">OAI Document Library</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../silva_all.html" title="Silva CMS Packages">Silva CMS Packages</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../silva_all_archive.html" title="Silva CMS Archive">Silva CMS Archive</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../silva_components.html" title="Silva Components">Silva Components</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../silva_extensions.html" title="Silva Extensions">Silva Extensions</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../silva_extensions_archive.html" title="Silva Extensions Archive">Silva Extensions Archive</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../fedoracommons.html" title="Fedora Commons Repository">Fedora Commons Repository</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../railroad.html" title="Railroad Repository">Railroad Repository</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../tramline.html" title="Tramline">Tramline</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../Formulator.html" title="Formulator">Formulator</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../LICENSE.txt.html" title="License">License</a>
        
      </li>
    
  </ul>
          
        
      </li>
    
    
      <li class="level-0">
        <a href="../../service.html" title="Services">Services</a>
        
      </li>
    
    
      <li class="level-0">
        <a href="../../contact.html" title="Contact">Contact</a>
        
      </li>
    
    
      <li class="level-0">
        <a href="../../search.html" title="Inactive Search">Inactive Search</a>
        
      </li>
    
  </ul>
</div>
</div>
  <div id="content">
    
    

  <a href="infrae.testbrowser.html#skip-to-releases" class="skip-link"
     style="float: right">
    Jump to releases
  </a>

  

  
  <h1>infrae.testbrowser</h1>
  <div class="document" id="infrae-testbrowser">
<p><cite>infrae.testbrowser</cite> is test browser for WSGI applications sharing the
same ideas than <a class="reference external" href="http://pypi.python.org/pypi/zope.testbrowser">zope.testbrowser</a>. It only has lxml and
zope.interface as dependency.</p>
<p>A Selenium version of the same browser is available in this package as
well. It share the same API than the default one, and requires
Selenium 2 to work.</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple"><li><a class="reference internal" href="infrae.testbrowser.html#api" id="id1">API</a><ul><li><a class="reference internal" href="infrae.testbrowser.html#browser" id="id2">Browser</a></li>
<li><a class="reference internal" href="infrae.testbrowser.html#browser-cookies" id="id3">Browser cookies</a></li>
<li><a class="reference internal" href="infrae.testbrowser.html#browser-options" id="id4">Browser options</a></li>
<li><a class="reference internal" href="infrae.testbrowser.html#inspect" id="id5">Inspect</a></li>
<li><a class="reference internal" href="infrae.testbrowser.html#macros" id="id6">Macros</a></li>
<li><a class="reference internal" href="infrae.testbrowser.html#links" id="id7">Links</a></li>
<li><a class="reference internal" href="infrae.testbrowser.html#forms" id="id8">Forms</a><ul><li><a class="reference internal" href="infrae.testbrowser.html#form-controls" id="id9">Form controls</a></li>
</ul></li>
<li><a class="reference internal" href="infrae.testbrowser.html#selenium-browser" id="id10">Selenium browser</a></li>
<li><a class="reference internal" href="infrae.testbrowser.html#selenium-browser-options" id="id11">Selenium Browser options</a></li>
</ul></li>
<li><a class="reference internal" href="infrae.testbrowser.html#code-repository" id="id12">Code repository</a></li>
</ul></div>
<div class="section" id="api">
<h2><a class="toc-backref" href="infrae.testbrowser.html#id1">API</a></h2>
<div class="section" id="browser">
<h3><a class="toc-backref" href="infrae.testbrowser.html#id2">Browser</a></h3>
<dl class="docutils"><dt><tt class="docutils literal">infrae.testbrowser.browser.Browser</tt></dt>
<dd>Test browser. You instantiate a new one by giving your WSGI
application to test as arguments to the constructor. The
application will be available via <tt class="docutils literal">localhost</tt>.</dd>
</dl><p>Example:</p>
<pre class="literal-block">
&gt;&gt;&gt; browser = Browser(MyWSGIApplication)
</pre>
<p>On the browser you have the following methods:</p>
<dl class="docutils"><dt><tt class="docutils literal">open(url, <span class="pre">method='GET',</span> query=None, form=None, <span class="pre">form_enctype='application/x-www-form-urlencoded',</span> data=None, data_type=None)</tt></dt>
<dd>Open the given <cite>url</cite>, with the given <cite>method</cite>. If query is
provided, it will be encoded in the URL. If form is provided, it
will be set as payload depending of <cite>form_enctype</cite>
(<cite>application/x-www-form-urlencoded</cite> or <cite>multipart/form-data</cite>). An
authentication can be provided in the URL (via
<tt class="docutils literal">user:password@localhost</tt>). As the host part doesn't really have
any meaning, you can directly specify a path as URL. It return the
HTTP status code returned by the application.  An alternative to <cite>form</cite> is
the <cite>data</cite> and <cite>data_type</cite> parameters.  The param <cite>data</cite> is the pre-encoded
body of the request, and <cite>data_type</cite> is the the content type of the body.
These parameters are useful for http PUT.</dd>
<dt><tt class="docutils literal">reload()</tt></dt>
<dd>Reload the currently open URL (sending back any posting data).</dd>
<dt><tt class="docutils literal">login(username, password=_marker)</tt></dt>
<dd>Set an basic authorization header in the request to authenticate
yourself with the given <cite>username</cite> and <cite>password</cite>. If <cite>password</cite> is
not provided, <cite>username</cite> is used as password.</dd>
<dt><tt class="docutils literal">set_request_header(key, value)</tt></dt>
<dd>Add an header called <cite>key</cite> with the value <cite>value</cite> used while
querying the application.
Headers are set for all further queries.</dd>
<dt><tt class="docutils literal">get_request_header(key)</tt></dt>
<dd>Get the value of an header used while querying the
application. Return None if there is no matching header.</dd>
<dt><tt class="docutils literal">clear_request_headers()</tt></dt>
<dd>Remove all sets headers used while querying the
application. Authentication one included.</dd>
<dt><tt class="docutils literal">get_link(content)</tt></dt>
<dd>Return a link selected via content.</dd>
<dt><tt class="docutils literal">get_form(name=None, id=None)</tt></dt>
<dd>Return a form selected via its <cite>name</cite> or <cite>id</cite> attribute (at least
one of them is required).</dd>
</dl><p>The following properties are helpful as well:</p>
<dl class="docutils"><dt><tt class="docutils literal">url</tt></dt>
<dd>Currently viewed URL, without the hostname part, but with query data
and so.</dd>
<dt><tt class="docutils literal">location</tt></dt>
<dd>Currently viewed path. <strong>It is recommanded</strong> to use this in your
test instead of <tt class="docutils literal">url</tt>. In case of Selenium testing, the URL will
change depending of your local testing setup, meaning if your
Selenium is not on the same computer than your test suite, the URL
won't be localhost).</dd>
<dt><tt class="docutils literal">history</tt></dt>
<dd>Last previously viewed URLs.</dd>
<dt><tt class="docutils literal">method</tt></dt>
<dd>Method used to view the current page.</dd>
<dt><tt class="docutils literal">status</tt></dt>
<dd>HTTP status for the currently viewed page.</dd>
<dt><tt class="docutils literal">status_code</tt></dt>
<dd>HTTP status code as an integer for the currently viewed page.</dd>
<dt><tt class="docutils literal">content_type</tt></dt>
<dd>Content type of the currently viewed page.</dd>
<dt><tt class="docutils literal">headers</tt></dt>
<dd>Dictionary like access to response headers.</dd>
<dt><tt class="docutils literal">cookies</tt></dt>
<dd>Dictionary like object to access existing cookies.</dd>
<dt><tt class="docutils literal">contents</tt></dt>
<dd>Payload of the currently viewed page.</dd>
<dt><tt class="docutils literal">html</tt></dt>
<dd>If the response was an HTML document, this contains an LXML parsed
tree of the document.</dd>
<dt><tt class="docutils literal">xml</tt></dt>
<dd>If the response was an XML response, this contains an LXML parsed
tree of it.</dd>
<dt><tt class="docutils literal">json</tt></dt>
<dd>If the response was a JSON response, this contains the loaded JSON
object.</dd>
<dt><tt class="docutils literal">options</tt></dt>
<dd>Access to browser options.</dd>
</dl></div>
<div class="section" id="browser-cookies">
<h3><a class="toc-backref" href="infrae.testbrowser.html#id3">Browser cookies</a></h3>
<p>You can access the currently set cookies with the dict-like object <tt class="docutils literal">cookies</tt>
available on the browser:</p>
<pre class="literal-block">
&gt;&gt;&gt; browser.cookies['mycookie']
mycookie=myvalue
</pre>
<p>In addition to default dictionary methods, this object as the following methods:</p>
<dl class="docutils"><dt><tt class="docutils literal">add(name, value)</tt></dt>
<dd>Add a new cookie called <tt class="docutils literal">name</tt> with the given value <tt class="docutils literal">value</tt>.</dd>
<dt><tt class="docutils literal">clear</tt></dt>
<dd>Clear all set cookies.</dd>
</dl></div>
<div class="section" id="browser-options">
<h3><a class="toc-backref" href="infrae.testbrowser.html#id4">Browser options</a></h3>
<p>The following options are attributes of the <tt class="docutils literal">options</tt> object,
example:</p>
<pre class="literal-block">
&gt;&gt;&gt; browser.options.handle_errors = False
</pre>
<dl class="docutils"><dt><tt class="docutils literal">server</tt></dt>
<dd>Server name to use to query the WSGI application (default to
<tt class="docutils literal">localhost</tt>).</dd>
<dt><tt class="docutils literal">port</tt></dt>
<dd>Port number to use to query the WSGI application (default to <tt class="docutils literal">80</tt>).</dd>
<dt><tt class="docutils literal">protocol</tt></dt>
<dd>HTTP protocol to use to query the WSGI application (default to
<tt class="docutils literal">HTTP/1.0</tt>).</dd>
<dt><tt class="docutils literal">follow_redirect</tt></dt>
<dd>Boolean indicating if a redirect must be automatically
followed. Default to True.</dd>
<dt><tt class="docutils literal">follow_external_redirect</tt></dt>
<dd>Boolean indicating if a redirect to a url that doesn't match the
current server and port set in options should be automatically
followed and handled by the current WSGI application. Activating it,
will update the options <tt class="docutils literal">server</tt> and <tt class="docutils literal">port</tt> to the new value
defined by the redirect URL. Default to False.</dd>
<dt><tt class="docutils literal">handle_errors</tt></dt>
<dd>Set the WSGI flag <tt class="docutils literal">wsgi.handleErrors</tt> in the WSGI
environment. Default to True.</dd>
<dt><tt class="docutils literal">cookie_support</tt></dt>
<dd>Boolean indicating if we must support cookie. By default to <tt class="docutils literal">True</tt>.</dd>
<dt><tt class="docutils literal">default_wsgi_environ</tt></dt>
<dd>Dictionnary that can be used to inject variable in the WSGI environment.</dd>
</dl></div>
<div class="section" id="inspect">
<h3><a class="toc-backref" href="infrae.testbrowser.html#id5">Inspect</a></h3>
<p>The browser as an <tt class="docutils literal">inspect</tt> attribute. You can register an Xpath
expression with it, and query them after on HTML pages:</p>
<pre class="literal-block">
&gt;&gt;&gt; browser.inspect.add('feedback', '//div[@class="feedback"]/span')
&gt;&gt;&gt; self.assertEqual(browser.inspect.feedback, ['Everything ok'])

&gt;&gt;&gt; browser.inspect.add('feedback', css='div.feedback span')
&gt;&gt;&gt; self.assertEqual(browser.inspect.feedback, ['Everything ok'])
</pre>
<dl class="docutils"><dt><tt class="docutils literal">add(name, xpath=None, <span class="pre">type='link',</span> css=None, unique=False)</tt></dt>
<dd><p class="first">Add an expression called <cite>name</cite> that can be used to inspect the HTML
content of the browser using the <cite>xpath</cite> expression (or the <cite>css</cite>
one). <cite>type</cite> can be:</p>
<dl class="docutils"><dt><cite>text</cite></dt>
<dd>The result would be a list containing the text of each matched
element.</dd>
<dt><cite>normalized-text</cite></dt>
<dd>The result would be a list containing the text where whitespaces
have been normalized for each matched element. (not available on
Selenium, the text is normalized by default by the browser).</dd>
<dt><cite>link</cite></dt>
<dd>The result would be a list of links.</dd>
<dt><cite>form</cite></dt>
<dd>The result would be a list of forms.</dd>
<dt><cite>form-actions</cite></dt>
<dd>The result would be the actions of a form.</dd>
<dt><cite>form-fields</cite></dt>
<dd>The result would be the fields of a form.</dd>
<dt><cite>clickable</cite></dt>
<dd>Available only on selenium, that is a list of elements, that you
can click on it (even if they are not links).</dd>
</dl><p class="last">If <tt class="docutils literal">unique</tt> is true, no more than one item matching will be
expected.  An error will be asserted if there are more items
matching, and <tt class="docutils literal">None</tt> will be returned if none matched.</p>
</dd>
</dl></div>
<div class="section" id="macros">
<h3><a class="toc-backref" href="infrae.testbrowser.html#id6">Macros</a></h3>
<p>Macros let you add listing of action to do on the browser. An example
will speak by itself:</p>
<pre class="literal-block">
&gt;&gt;&gt; def create_content(browser, identifier, title):
...    form = browser.get_form('addform')
...    form.get_control('identifier').value = identifier
...    form.get_control('title').value = title
...    assert form.inspect.actions['save'].click() == 200

&gt;&gt;&gt; browser.macros.add('create', create_content)
</pre>
<p>Now you can create content with your browser:</p>
<pre class="literal-block">
&gt;&gt;&gt; browser.macros.create('test', 'Test Content')
&gt;&gt;&gt; browser.macros.create('othertest', 'Other Test Content')
</pre>
</div>
<div class="section" id="links">
<h3><a class="toc-backref" href="infrae.testbrowser.html#id7">Links</a></h3>
<p>Links have some useful attributes and methods:</p>
<dl class="docutils"><dt><tt class="docutils literal">click()</tt></dt>
<dd>Follow this link in the browser, and return the HTTP status code
returned by the application.</dd>
<dt><tt class="docutils literal">url</tt></dt>
<dd>Target URL of the link.</dd>
<dt><tt class="docutils literal">text</tt></dt>
<dd>Text of the link.</dd>
</dl><p>As result of an inspect, links are pretty useful:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; browser.inspect.add('tabs', '//div[@class="tabs"]/a', type="link")
&gt;&gt;&gt; self.assertEqual(browser.inspect.tabs, ['View', 'Edit'])
&gt;&gt;&gt; self.assertEqual(browser.inspect.tabs['view'].click(), 200)
</pre>
</blockquote>
</div>
<div class="section" id="forms">
<h3><a class="toc-backref" href="infrae.testbrowser.html#id8">Forms</a></h3>
<p>Forms have the following methods and attributes:</p>
<dl class="docutils"><dt><tt class="docutils literal">name</tt></dt>
<dd>Name of the form.</dd>
<dt><tt class="docutils literal">action</tt></dt>
<dd>URL where to form is posted.</dd>
<dt><tt class="docutils literal">method</tt></dt>
<dd>Method to use to post the form.</dd>
<dt><tt class="docutils literal">enctype</tt></dt>
<dd>Form enctype to use to post the form.</dd>
<dt><tt class="docutils literal">accept_charset</tt></dt>
<dd>Charset to which the form data will be encoded before being posted.</dd>
<dt><tt class="docutils literal">controls</tt></dt>
<dd>Dictionary containing all the controls of the form.</dd>
<dt><tt class="docutils literal">inspect</tt></dt>
<dd>Inspect attribute, working like the one of the browser. By default,
<tt class="docutils literal">inspect.actions</tt> is registered to return all the submit-like
controls of the form.</dd>
<dt><tt class="docutils literal">get_control(name)</tt></dt>
<dd>Return the given form control by its name.</dd>
<dt><tt class="docutils literal">submit(name=None, value=None)</tt></dt>
<dd>Submit the form, potentially add the control name and the given
value to the submission. This return the HTTP status code returned
by the application.</dd>
</dl><p>Calling <tt class="docutils literal">str(form)</tt> will only return the HTML code of the form.</p>
<p>Forms support all the known HTTP controls.</p>
<div class="section" id="form-controls">
<h4><a class="toc-backref" href="infrae.testbrowser.html#id9">Form controls</a></h4>
<p>For consistency, all form controls share the attributes:</p>
<dl class="docutils"><dt><tt class="docutils literal">name</tt></dt>
<dd>Name of the control.</dd>
<dt><tt class="docutils literal">type</tt></dt>
<dd>Type of control, like value of type attribute for input and tag name
in other cases.</dd>
<dt><tt class="docutils literal">value</tt></dt>
<dd>Value stored in the control.</dd>
<dt><tt class="docutils literal">multiple</tt></dt>
<dd>Boolean indicating if the control store multiple value.</dd>
<dt><tt class="docutils literal">options</tt></dt>
<dd>If the value have to be chosen in a list of possible values, those
are the possibilities.</dd>
<dt><tt class="docutils literal">checkable</tt></dt>
<dd>Boolean indicating if the control can be checked (i.e. is it a checkbox).</dd>
<dt><tt class="docutils literal">checked</tt></dt>
<dd>Boolean indicating if the control is checked (and so if the value
will be sent if the control is checkable).</dd>
</dl><p>In addition action controls (like submit buttons, button), have:</p>
<dl class="docutils"><dt><tt class="docutils literal">submit()</tt></dt>
<dd>Submit the form with this action. This return the HTTP status code
returned by the application.</dd>
<dt><tt class="docutils literal">click()</tt></dt>
<dd>Alias to <tt class="docutils literal">submit()</tt>.</dd>
</dl><p>For file control, you have to set as value the filename (i.e path to)
of the file you want to upload.</p>
</div>
</div>
<div class="section" id="selenium-browser">
<h3><a class="toc-backref" href="infrae.testbrowser.html#id10">Selenium browser</a></h3>
<dl class="docutils"><dt><tt class="docutils literal">infrae.testbrowser.browser.selenium.Browser</tt></dt>
<dd><p class="first">Test browser. You instantiate a new one by giving your WSGI
application to test as arguments to the constructor.</p>
<p>You have to use the browser as a context manager in order to start
and stop the server that Selenium will use to access the
application.</p>
<p>The following environement variable are available in order to
control the connection to the Selenium server:</p>
<ul class="simple"><li><tt class="docutils literal">TESTBROWSER_BROWSER</tt> (default to firefox)</li>
<li><tt class="docutils literal">TESTBROWSER_SELENIUM_PLATFORM</tt> (default to the local one)</li>
<li><tt class="docutils literal">TESTBROWSER_SELENIUM_HOST</tt> (default to localhost)</li>
<li><tt class="docutils literal">TESTBROWSER_SELENIUM_PORT</tt> (default to 4444)</li>
<li><tt class="docutils literal">TESTBROWSER_SERVER</tt> (default to localhost)</li>
<li><tt class="docutils literal">TESTBROWSER_PORT</tt> (default to 8000)</li>
</ul><p>If you set your testsuite to connect to a Selenium server that is
not on your computer where you run your testsuite, please set the
server and port options so that the Selenium knows how to connect
to your application (it should be the network name of your
computer).</p>
<p>The API is the same than the default browser, except for:</p>
<ul class="simple"><li>you can't access HTTP status or headers,</li>
<li>you can't change hidden fields (you can only do what the user can
do).</li>
</ul><p class="last">Cookies do work however.</p>
</dd>
</dl></div>
<div class="section" id="selenium-browser-options">
<h3><a class="toc-backref" href="infrae.testbrowser.html#id11">Selenium Browser options</a></h3>
<p>The following options are attributes of the options object, example:</p>
<pre class="literal-block">
&gt;&gt;&gt; browser.options.enable_javascript = False
</pre>
<p>They are on par with the possible configuration environment variables:</p>
<dl class="docutils"><dt><tt class="docutils literal">enable_javascript</tt></dt>
<dd>Enable or disable Javascript in Selenium.</dd>
<dt><tt class="docutils literal">browser</tt></dt>
<dd>String used to specify which browser you expect to use,
i.e. 'firefox' or 'chrome' for instance.</dd>
<dt><tt class="docutils literal">selenium_host</tt></dt>
<dd>Network name of the computer where the Selenium server run.</dd>
<dt><tt class="docutils literal">selenium_port</tt></dt>
<dd>Port number where the Selenium server run.</dd>
<dt><tt class="docutils literal">selenium_platform</tt></dt>
<dd>Operating system where the Selenium should run the wanted browsers
(for instance set it to 'win' if you wish Selenium to pick a browser
on Windows).</dd>
<dt><tt class="docutils literal">server</tt></dt>
<dd>Network name of the computer where the testsuite will be
running. This is the name that Selenium will use to access the
tested application.</dd>
<dt><tt class="docutils literal">port</tt></dt>
<dd>Port on which the test application will be bound so Selenium can
access it.</dd>
</dl></div>
</div>
<div class="section" id="code-repository">
<h2><a class="toc-backref" href="infrae.testbrowser.html#id12">Code repository</a></h2>
<p>You can find the source code of this extensions in mercurial at
<a class="reference external" href="https://hg.infrae.com/infrae.testbrowser">https://hg.infrae.com/infrae.testbrowser</a>.</p>
</div>
</div>




  <table class="silvatable list">
    <h2><a name="skip-to-releases">Available releases</a></h2>
    <thead>
      <tr>
        <th class="align-left">Release version</th>
        <th class="align-left">Release date</th>
        <th class="align-left">Release files</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          <a href="infrae.testbrowser/2.0.2.html">infrae.testbrowser 2.0.2</a>
        </td>
        <td>2013 5 23  11:52:54 </td>
        <td>
          
            <a href="infrae.testbrowser/2.0.2/infrae.testbrowser-2.0.2.tar.gz">infrae.testbrowser-2.0.2.tar.gz</a><br />
          
        </td>
      </tr>
      <tr>
        <td>
          <a href="infrae.testbrowser/2.0.1.html">infrae.testbrowser 2.0.1</a>
        </td>
        <td>2012 12 10  16:49:20 </td>
        <td>
          
            <a href="infrae.testbrowser/2.0.1/infrae.testbrowser-2.0.1.tar.gz">infrae.testbrowser-2.0.1.tar.gz</a><br />
          
        </td>
      </tr>
      <tr>
        <td>
          <a href="infrae.testbrowser/2.0.html">infrae.testbrowser 2.0</a>
        </td>
        <td>2012 9 24  11:06:58 </td>
        <td>
          
            <a href="infrae.testbrowser/2.0/infrae.testbrowser-2.0.tar.gz">infrae.testbrowser-2.0.tar.gz</a><br />
          
        </td>
      </tr>
      <tr>
        <td>
          <a href="infrae.testbrowser/2.0b1.html">infrae.testbrowser 2.0b1</a>
        </td>
        <td>2011 11 7  16:46:04 </td>
        <td>
          
            <a href="infrae.testbrowser/2.0b1/infrae.testbrowser-2.0b1.tar.gz">infrae.testbrowser-2.0b1.tar.gz</a><br />
          
        </td>
      </tr>
      <tr>
        <td>
          <a href="infrae.testbrowser/1.1.html">infrae.testbrowser 1.1</a>
        </td>
        <td>2011 2 7  11:58:27 </td>
        <td>
          
            <a href="infrae.testbrowser/1.1/infrae.testbrowser-1.1.tar.gz">infrae.testbrowser-1.1.tar.gz</a><br />
          
        </td>
      </tr>
      <tr>
        <td>
          <a href="infrae.testbrowser/1.0.html">infrae.testbrowser 1.0</a>
        </td>
        <td>2010 10 7  13:39:31 </td>
        <td>
          
            <a href="infrae.testbrowser/1.0/infrae.testbrowser-1.0.tar.gz">infrae.testbrowser-1.0.tar.gz</a><br />
          
        </td>
      </tr>
    </tbody>
  </table>

  <p class="software-license">
    <strong>License:</strong>
    <a href="infrae.testbrowser/LICENSE.txt.html">
      New BSD
    </a>
  </p>

  



  </div>
  <div id="footer">
  <div class="search">
  <form method="get" action="https://m.infrae.com/download/tools/infrae.testbrowser/@@index.html">
    <input class="searchbutton" type="image" src="../../++static++/silvatheme.infraemobile/:version:2013-12-19T15:20:12/images/search.png" />
    <div class="searchtext">
      <input class="text" placeholder="Search..." name="search" type="text"
             />
    </div>
  </form>
</div>

  <table class="nav">
  
    <tr>
      <td class="col1">
        <div class="nav_button">
          <a class="nav_button" href="../../news.html">News</a>
        </div>
      </td>
      <td class="col2">
        <div class="nav_button">
          <a class="nav_button" href="../../about.html">About</a>
        </div>
      </td>
      <td class="col3">
        <div class="nav_button">
          <a class="nav_button" href="../../products.html">Products</a>
        </div>
      </td>
    </tr>
  
  
    <tr>
      <td class="col1">
        <div class="nav_button">
          <a class="nav_button" href="../../download.html">Download</a>
        </div>
      </td>
      <td class="col2">
        <div class="nav_button">
          <a class="nav_button" href="../../service.html">Services</a>
        </div>
      </td>
      <td class="col3">
        <div class="nav_button">
          <a class="nav_button" href="../../contact.html">Contact</a>
        </div>
      </td>
    </tr>
  
    <tr>
      <td colspan="3" class="col0">
        <div class="nav_button">
          <a class="nav_button" href="https://infrae.com/download/tools/infrae.testbrowser">
            View this page on the desktop site
          </a>
        </div>
      </td>
    </tr>
</table>

  <div class="channels">
    <a class="button" href="http://maps.google.com/maps?f=q&source=s_q&hl=en&geocode=&q=Infrae,+Rotterdam,+The+Netherlands&sll=36.244273,-95.712891&sspn=52.071158,72.949219&ie=UTF8&hq=Infrae,&hnear=Rotterdam,+South+Holland,+The+Netherlands&t=h&z=15&iwloc=A">Hoevestraat 10 3033 GC Rotterdam NL</a>
    <a href="tel:+31102437051" class="button left">+31 10 243 7051</a>
    <a class="button right" href="mailto:info@infrae.com">info@infrae.com</a>
  </div>

</div>
</div>



<script type="text/javascript">
    
    $( function(){ 
        $(document).bind('mousedown touchstart', function(){ 
            $('#sitemap').hide('fast', function(){
                $('#sitemap-switch-button-link').removeClass('selected');
            }); 
        });
        
        $('#sitemap, #sitemap-switch-button').bind('mousedown touchstart', function(event){
            event.stopPropagation();
        });       
    });
    
</script>

  </body>
</html>

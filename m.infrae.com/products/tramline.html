<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Infrae Mobile: Tramline</title>
    <base href="" />
    <meta name="description" content="Infrae mobile site: All of Infrae's open source products." />
    <meta name="keywords" content="mobile, smartphone, Android, iOS, Products, content management, CMS, content management system, DM, document management, document management system, DAM, digital asset management, Silva, Silva CMS, Kupu, Kupu editor, Railroad, Railroad Repository, Tramline, Python, Zope, open source, open source software, FLOSS" />
    <meta name="generator" content="Silva" />
    <meta name="viewport" content="width=device-width,user-scalable=yes" />
    <link rel="shortcut icon" href="../++static++/silvatheme.infraemobile/:version:2013-12-19T15:20:12/favicon.ico" />

    <link rel="apple-touch-icon" href="../++static++/silvatheme.infraemobile/:version:2013-12-19T15:20:12/mobicon.png" />
    <style>#contactus {display: none} div.searchbox {display: none}</style>

    
  <link rel="stylesheet" type="text/css" href="../++static++/silvatheme.infraemobile/:version:2013-12-19T15:20:12/:bundle:infraemobile.css%3Binfraemobile_advanced.css" />
<script type="text/javascript" src="../++static++/jquery/:version:1.8.2/jquery.min.js"></script>
</head>

  <body class="tramline">
    <div id="site" class="">
  <div id="header"><div class="breadcrumbs"><div class="menu bc">
  <div id="home" class="bci bchome">
    <a href="../index.html">
      <img width="72" height="36" alt="Home" src="../++static++/silvatheme.infraemobile/:version:2013-12-19T15:20:12/images/homelink.png"
           />
    </a>
  </div>
  <div id="sitemap-switch-button" class="buttons" >
  <a id="sitemap-switch-button-link" href="tramline.html#top"
    width="36" height="36" alt="Sitemap"
    title="show sitemap"
    onclick="
      window.location.hash = 'top';
      var cur = $(this);
      $('#sitemap').slideToggle('fast',
      function(){cur.toggleClass('selected')});
      return false;">
    <img height="36" width="36" alt="Sitemap button" src="../++static++/silvatheme.infraemobile/:version:2013-12-19T15:20:12/images/sitemap.png"
    />
  </a>
</div>

  <div class="title bci">
    <a href="../products.html">Products</a>
  </div>
</div>
</div>
</div>
  <div id="behindheader">
    <a name="top" href="mailto:torvald@infrae.com">
      Looking under the hood? Interested in a job? Send a mail....
    </a>
  </div>
  <div id="sitemap" style="display: none"><div class="navigation">
  <ul id="navigation-menu" class="navigation-level-0">
    
      <li class="level-0">
        <a href="../news.html" title="News">News</a>
        
      </li>
    
    
      <li class="level-0">
        <a href="../about.html" title="About">About</a>
        
      </li>
    
    
      <li class="level-0 selected">
        <a href="../products.html" title="Products" class="onbranch">Products</a>
        
          
            <ul class="navigation-level-1">
    
      <li class="level-1">
        <a href="silva.html" title="Silva">Silva</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="mobi.html" title="Mobi">Mobi</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="moai.html" title="MOAI Server">MOAI Server</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="documentlibrary.html" title="OAI Document Library">OAI Document Library</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="oaipack.html" title="OAI Pack">OAI Pack</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="https://m.infrae.com/products/silvanewsnetwork" title="Silva News Network">Silva News Network</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="lxml.html" title="lxml Library">lxml Library</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="formulator.html" title="Formulator">Formulator</a>
        
      </li>
    
    
      <li class="level-1 selected">
        <a href="tramline.html" title="Tramline" class="selected">Tramline</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="kupu_editor.html" title="Kupu">Kupu</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="railroad.html" title="Railroad Repository">Railroad Repository</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="glade.html" title="Dendra Image Archive">Dendra Image Archive</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="docmaproduct.html" title="Docma Converter">Docma Converter</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="zsparklines.html" title="ZSparklines">ZSparklines</a>
        
      </li>
    
  </ul>
          
        
      </li>
    
    
      <li class="level-0">
        <a href="../download.html" title="Download">Download</a>
        
      </li>
    
    
      <li class="level-0">
        <a href="../service.html" title="Services">Services</a>
        
      </li>
    
    
      <li class="level-0">
        <a href="../contact.html" title="Contact">Contact</a>
        
      </li>
    
    
      <li class="level-0">
        <a href="../search.html" title="Inactive Search">Inactive Search</a>
        
      </li>
    
  </ul>
</div>
</div>
  <div id="content">
    
    
  <h1>Tramline</h1>
  <div class="external-source align-right">
<!-- TOC codesource 3.0 -->
  <div class="info plot">
    <h2>Download packages</h2>
    
      <h3>
        Tramline
      </h3>
      <ul class="toc"><li>
<a href="../download/tramline/0.5.1.html"> 0.5.1</a>
</li>
<li>
<a href="../download/tramline/0.5.html"> 0.5</a>
</li>
<li>
<a href="../download/tramline/0.4.html"> 0.4</a>
</li></ul></div>
  <!-- End TOC codesource 3.0 -->
</div>

<p>
	Tramline <a class="anchor" id="Tramiline_product_page" name="Tramiline_product_page" title="Tramiline product page"></a>is an upload and download accelerator that plugs into Apache. Its aim is to make downloading and uploading large media to an application server easy and fast, without overloading the application server with large amounts of binary data.</p>

<p>
	Tramline integrates into Apache using mod_python. The application server is assumed to sit behind Apache, for instance hooked up using mod_proxy or mod_rewrite.</p>

<p>
	Tramline takes over uploading and downloading files, handling these within Apache. Only a small configuration change in Apache should be necessary to enable Tramline.</p>

<p>
	The application server remains in complete control over security, page and form rendering, and everything else. Minimal changes are necessary to any application to enable it to work with Tramline; in fact it&#8217;s just setting two response headers in a few places in the code.</p>

<h2>
	How it works</h2>

<p>
	Given a 'tramline_data' directory that's accessible to Apache (and the appserver if it needs to), there are two subdirectories, 'upload' and 'repository'. 'upload' will only contain temporary files currently being uploaded, while 'repository' contains the files successfully uploaded.</p>

<p>
	Tramline makes sure uploaded files (in a form POST) don&#8217;t appear at the appserver but go directly into the filesystem. The only thing the appserver sees is a unique identifier of the uploaded file, so that the appserver can access it when needed. The binary data is gone at the time the POST reaches the appserver. You can check whether Tramline is in use by checking the 'tramline' header in the request, though frequently there&#8217;s no need to do so.</p>

<p>
	The appserver can control whether it accepts the uploaded file(s) in the output response header; if a 'tramline_ok' header is present, the uploaded files will be moved into the repository, &#8216;committing&#8217; the upload. If it&#8217;s absent, the uploaded files will be removed, &#8216;aborting&#8217; the upload.</p>

<p>
	Tramline also can handle downloads. The appserver can signal in the response headers that Tramline should push a file out of the filesystem to the end user, by adding a 'tramline_file' response header. The data of the file body as received during upload, containing the unique identifier of the file, should be sent back as the response body. Again the appserver does not see the binary data but only sends out an identifier to make the file be served by Apache.</p>

<p>
	Tramline makes it relatively easy to make an application that handled large file uploads correctly without Tramline installed as well. After all, the application handles a Tramline id just like it would handle an uploaded file; the data is stored and served again. Of course mixing Tramline uploaded files and appserver uploaded files in the same setup of your application would get complicated, but this feature does make it nice to be able to test your application without Tramline available.</p>

<p>
	So:</p>

<p>
	to handle upload:</p>

<ul class="disc"><li>
		file contents will contain the unique file id.</li>
	<li>
		send out 'tramline_ok' header if file is accepted. Failure to send out this header will cause the file to be rejected.</li>
</ul><p>
	to detect whether Tramline took care of an upload:</p>

<ul class="disc"><li>
		look for a 'tramline' header in the request.</li>
</ul><p>
	to handle download:</p>

<ul class="disc"><li>
		send out 'tramline_file' header in response if the file can be downloaded.</li>
	<li>
		send out response body with unique file id.</li>
</ul><h2>
	Resources <a class="anchor" id="Tramline_resources" name="Tramline_resources" title="Tramline resources"></a></h2>

<p>
	Here&#8217;s where to find the source:</p>

<p>
	<a class="link" title="" href="http://codespeak.net/svn/rr/tramline/trunk">http://codespeak.net/svn/rr/tramline/trunk</a></p>

<p>
	If you want to give feedback or help out, please do! We have a mailing list at:</p>

<p>
	<a class="link" title="" href="http://codespeak.net/mailman/listinfo/tramline-dev">http://codespeak.net/mailman/listinfo/tramline-dev</a></p>

<h3>
	Credit</h3>

<p>
	Thanks to the people at the <a class="link" title="" href="http://www.beds.ac.uk/">University of Bedfordshire</a> for their ideas, feedback, and vision.</p>



  </div>
  <div id="footer">
  <div class="search">
  <form method="get" action="https://m.infrae.com/products/tramline/@@index.html">
    <input class="searchbutton" type="image" src="../++static++/silvatheme.infraemobile/:version:2013-12-19T15:20:12/images/search.png" />
    <div class="searchtext">
      <input class="text" placeholder="Search..." name="search" type="text"
             />
    </div>
  </form>
</div>

  <table class="nav">
  
    <tr>
      <td class="col1">
        <div class="nav_button">
          <a class="nav_button" href="../news.html">News</a>
        </div>
      </td>
      <td class="col2">
        <div class="nav_button">
          <a class="nav_button" href="../about.html">About</a>
        </div>
      </td>
      <td class="col3">
        <div class="nav_button">
          <a class="nav_button" href="../products.html">Products</a>
        </div>
      </td>
    </tr>
  
  
    <tr>
      <td class="col1">
        <div class="nav_button">
          <a class="nav_button" href="../download.html">Download</a>
        </div>
      </td>
      <td class="col2">
        <div class="nav_button">
          <a class="nav_button" href="../service.html">Services</a>
        </div>
      </td>
      <td class="col3">
        <div class="nav_button">
          <a class="nav_button" href="../contact.html">Contact</a>
        </div>
      </td>
    </tr>
  
    <tr>
      <td colspan="3" class="col0">
        <div class="nav_button">
          <a class="nav_button" href="https://infrae.com/products/tramline">
            View this page on the desktop site
          </a>
        </div>
      </td>
    </tr>
</table>

  <div class="channels">
    <a class="button" href="http://maps.google.com/maps?f=q&source=s_q&hl=en&geocode=&q=Infrae,+Rotterdam,+The+Netherlands&sll=36.244273,-95.712891&sspn=52.071158,72.949219&ie=UTF8&hq=Infrae,&hnear=Rotterdam,+South+Holland,+The+Netherlands&t=h&z=15&iwloc=A">Hoevestraat 10 3033 GC Rotterdam NL</a>
    <a href="tel:+31102437051" class="button left">+31 10 243 7051</a>
    <a class="button right" href="mailto:info@infrae.com">info@infrae.com</a>
  </div>

</div>
</div>



<script type="text/javascript">
    
    $( function(){ 
        $(document).bind('mousedown touchstart', function(){ 
            $('#sitemap').hide('fast', function(){
                $('#sitemap-switch-button-link').removeClass('selected');
            }); 
        });
        
        $('#sitemap, #sitemap-switch-button').bind('mousedown touchstart', function(event){
            event.stopPropagation();
        });       
    });
    
</script>

  </body>
</html>
